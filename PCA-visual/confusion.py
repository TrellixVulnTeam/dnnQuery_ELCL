import numpy as np
import seaborn as sn
import pandas as pd
import matplotlib.pyplot as plt

# array = np.loadtxt("./last_hidden_state-3300.txt", delimiter=',')
0.328219,0.0817046,0.417236,0.171062,0.218735,0.0938626,0.0182332,0.506292,0.316548,0.013792,0.012405,0.39131
0.21268,0.0665996,0.321605,0.15928,0.204538,0.0642907,0.0156655,0.311488,0.224501,0.00778561,0.0113552,0.226148
0.152609,0.0228081,0.1264,0.165185,0.0974793,0.0401937,0.0102594,0.0357594,0.0638358,0.00520457,0.00791284,0.033879
0.0741879,0.0343065,0.0245402,0.112278,0.0542824,0.0350121,0.0159611,0.0207821,0.0274547,0.0100118,0.00820075,0.0224141
0.0471081,0.0687185,0.0205205,0.10208,0.0622731,0.0391042,0.0199236,0.0236618,0.025029,0.0146239,0.0126796,0.0286056
0.0445598,0.149504,0.0173175,0.113398,0.0760425,0.0536235,0.02272,0.0218086,0.0208612,0.014331,0.0228619,0.0405988
0.0315263,0.117411,0.0219145,0.0765665,0.0640794,0.0632112,0.0347154,0.015049,0.0324634,0.0323479,0.0544947,0.034845
0.0177048,0.0616834,0.00932962,0.0215226,0.0371737,0.0729584,0.0516425,0.00981415,0.0353893,0.0585824,0.0770281,0.030293
0.0142166,0.0549973,0.00687094,0.0137034,0.0301763,0.0791515,0.0705629,0.00869479,0.0362385,0.079554,0.0866847,0.0272315
0.0131728,0.0508811,0.00620922,0.0119478,0.0288848,0.0763156,0.0871591,0.00826162,0.0376722,0.0981636,0.0917501,0.0268281
0.0125423,0.052759,0.00581052,0.0110238,0.0261718,0.0773498,0.108174,0.00795381,0.0368627,0.120022,0.106083,0.0267822
0.0127727,0.0574371,0.00567964,0.0106824,0.0252386,0.0772822,0.125019,0.00776845,0.0361674,0.131075,0.118149,0.0273127
0.0128838,0.0599786,0.00556285,0.0104618,0.0249006,0.0768388,0.135456,0.00760207,0.0358295,0.136632,0.125934,0.0276651
0.0128886,0.0605525,0.00553938,0.0104849,0.0251729,0.0756965,0.139191,0.00758768,0.0355642,0.137595,0.130398,0.0280455
0.0129287,0.0606586,0.00546483,0.0103238,0.0248515,0.075109,0.145318,0.00747655,0.0355828,0.140278,0.134062,0.0280425

# array = np.array([[33,2,0,0,0,0,0,0,0,1,3], 
#         [3,31,0,0,0,0,0,0,0,0,0], 
#         [0,4,41,0,0,0,0,0,0,0,1], 
#         [0,1,0,30,0,6,0,0,0,0,1], 
#         [0,0,0,0,38,10,0,0,0,0,0], 
#         [0,0,0,3,1,39,0,0,0,0,4], 
#         [0,2,2,0,4,1,31,0,0,0,2],
#         [0,1,0,0,0,0,0,36,0,2,0], 
#         [0,0,0,0,0,0,1,5,37,5,1], 
#         [3,0,0,0,0,0,0,0,0,39,0], 
#         [0,0,0,0,0,0,0,0,0,0,38]])

array = np.array([#[0.328219,0.0817046,0.417236,0.171062,0.218735,0.0938626,0.0182332,0.506292,0.316548,0.013792,0.012405,0.39131],
                #[0.21268,0.0665996,0.321605,0.15928,0.204538,0.0642907,0.0156655,0.311488,0.224501,0.00778561,0.0113552,0.226148],
                #[0.152609,0.0228081,0.1264,0.165185,0.0974793,0.0401937,0.0102594,0.0357594,0.0638358,0.00520457,0.00791284,0.033879],
                [0.0741879,0.0343065,0.0245402,0.112278,0.0542824,0.0350121,0.0159611,0.0207821,0.0274547,0.0100118,0.00820075,0.0224141],
                [0.0471081,0.0687185,0.0205205,0.10208,0.0622731,0.0391042,0.0199236,0.0236618,0.025029,0.0146239,0.0126796,0.0286056],
                [0.0445598,0.149504,0.0173175,0.113398,0.0760425,0.0536235,0.02272,0.0218086,0.0208612,0.014331,0.0228619,0.0405988],
                [0.0315263,0.117411,0.0219145,0.0765665,0.0640794,0.0632112,0.0347154,0.015049,0.0324634,0.0323479,0.0544947,0.034845],
                [0.0177048,0.0616834,0.00932962,0.0215226,0.0371737,0.0729584,0.0516425,0.00981415,0.0353893,0.0585824,0.0770281,0.030293],
                [0.0142166,0.0549973,0.00687094,0.0137034,0.0301763,0.0791515,0.0705629,0.00869479,0.0362385,0.079554,0.0866847,0.0272315],
                [0.0131728,0.0508811,0.00620922,0.0119478,0.0288848,0.0763156,0.0871591,0.00826162,0.0376722,0.0981636,0.0917501,0.0268281],
                [0.0125423,0.052759,0.00581052,0.0110238,0.0261718,0.0773498,0.108174,0.00795381,0.0368627,0.120022,0.106083,0.0267822],
                [0.0127727,0.0574371,0.00567964,0.0106824,0.0252386,0.0772822,0.125019,0.00776845,0.0361674,0.131075,0.118149,0.0273127],
                [0.0128838,0.0599786,0.00556285,0.0104618,0.0249006,0.0768388,0.135456,0.00760207,0.0358295,0.136632,0.125934,0.0276651],
                [0.0128886,0.0605525,0.00553938,0.0104849,0.0251729,0.0756965,0.139191,0.00758768,0.0355642,0.137595,0.130398,0.0280455],
                [0.0129287,0.0606586,0.00546483,0.0103238,0.0248515,0.075109,0.145318,0.00747655,0.0355828,0.140278,0.134062,0.0280425]])

query0 = "which player has the least games_played with 92 points and 71 100s" # _PAD _PAD _PAD
logic0 = "select <field>:0 argmin <field>:1 where <field>:2 equal <value>:2 and <field>:3 equal <value>:3"
query = reversed(query0.split(' '))
logic = logic0.split(' ')
# column: x-axis label; index: y-axis label
df_cm = pd.DataFrame(array, index = [i for i in query],
                  columns = [i for i in logic])

#plt.figure(figsize = (10,7))
sn.set(font_scale=0.4)  #for label size
sn.heatmap(df_cm, annot=True)
plt.show()
plt.savefig("./output.png")